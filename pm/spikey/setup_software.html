


<!DOCTYPE html>


<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

    <title>Experiment execution &#8212; HBP Neuromorphic Computing Platform Guidebook (WIP)</title>
    <link rel="stylesheet" type="text/css" href="../../_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/hbpdoc.css" />
    <script data-url_root="../../" id="documentation_options" src="../../_static/documentation_options.js"></script>
    <script src="../../_static/jquery.js"></script>
    <script src="../../_static/underscore.js"></script>
    <script src="../../_static/doctools.js"></script>
    <script src="../../_static/extra.js"></script>
    <script src="../../_static/hbpdoc.js"></script>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="Spikey school" href="spikey_school.html" />
    <link rel="prev" title="The Spikey “physical model” system" href="../spikey.html" />
<meta name="viewport" content="width=device-width, initial-scale=1">

  </head><body>
<div class="hbpdoc-page">
    <section class="hbpdoc-title page-header">
        <a class="project-title" href="../../index.html">HBP Neuromorphic Computing Platform Guidebook</a>

        <a class="hbpdoc-toc-toggle pull-right" href>
            <span class="zmdi zmdi-menu"></span> <span class="sr-only icon-text">Menu</span>
        </a>
    </section>
    <section class="hbpdoc-main">
        <nav class="hbpdoc-sidebar hbpdoc-container">
            <a class="hbpdoc-toc-toggle pull-right" href>
                <span class="zmdi zmdi-menu"></span> <span class="sr-only icon-text">Menu</span>
            </a>
            
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
            <p class="logo"><a href="../../index.html">
              <img class="logo" src="../../_static/HBP_Primary_RGB_logoOnlyScaled68px.png" alt="Logo"/>
            </a></p>
  <h3><a href="../../index.html">Table of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">Experiment execution</a><ul>
<li><a class="reference internal" href="#login-to-uhei-cluster">Login to UHEI cluster</a></li>
<li><a class="reference internal" href="#load-software-modules">Load software modules</a></li>
<li><a class="reference internal" href="#run-experiment">Run experiment</a></li>
<li><a class="reference internal" href="#tips-and-tricks">Tips and tricks</a></li>
<li><a class="reference internal" href="#using-the-web-interface-of-the-human-brain-project">Using the web interface of the Human Brain Project</a></li>
<li><a class="reference internal" href="#visualization-of-the-chip-configuration">Visualization of the chip configuration</a><ul>
<li><a class="reference internal" href="#what-is-the-scvisual-tool">What is the <em>scvisual</em> tool?</a></li>
<li><a class="reference internal" href="#who-can-benefit-from-scvisual">Who can benefit from <em>scvisual</em>?</a></li>
<li><a class="reference internal" href="#installation-and-usage">Installation and usage</a></li>
<li><a class="reference internal" href="#footnotes">Footnotes</a></li>
</ul>
</li>
</ul>
</li>
</ul>

  <h4>Previous topic</h4>
  <p class="topless"><a href="../spikey.html"
                        title="previous chapter">The Spikey “physical model” system</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="spikey_school.html"
                        title="next chapter">Spikey school</a></p>
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="../../_sources/pm/spikey/setup_software.rst.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="../../search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false"/>
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script>$('#searchbox').show(0);</script>
        </div>
      </div>
        </nav>

        <article class="hbpdoc-content">

            <div class="content">
                
                <div class="breadcrumb breadcrumb-meta expand">
                    
                    <a href="../spikey.html">The Spikey “physical model” system</a>
                    
                </div>
                

                <aside class="hbpdoc-hnav hbpdoc-hnav-top">
                    
                    <span class="hbpdoc-hnav-previous">
                        previous: <a class="hbpdoc-hnav-link" href="../spikey.html">The Spikey “physical model” system</a>
                    </span>
                    
                    
                    <span class="hbpdoc-hnav-next">
                        next: <a class="hbpdoc-hnav-link" href="spikey_school.html">Spikey school</a>
                    </span>
                    
                </aside>

                <section id="experiment-execution">
<h1>Experiment execution<a class="headerlink" href="#experiment-execution" title="Permalink to this headline">¶</a></h1>
<p>Use the following instructions to login, load the pre-built software package and run experiments on the UHEI cluster.
For using the Spikey system outside the UHEI cluster and for developers, please manually install the required software (see <a class="reference internal" href="appendix.html#label-spikeysoftware"><span class="std std-ref">Setup software</span></a>).</p>
<section id="login-to-uhei-cluster">
<span id="label-clusterlogin"></span><h2>Login to UHEI cluster<a class="headerlink" href="#login-to-uhei-cluster" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li><p>From the network of the Kirchhoff-Institute for Physics:</p></li>
</ul>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>ssh KIPUSER@hel
</pre></div>
</div>
<ul class="simple">
<li><p>Otherwise:</p></li>
</ul>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>ssh s1ext_someuser@gitviz.kip.uni-heidelberg.de -p <span class="m">11022</span>
</pre></div>
</div>
</section>
<section id="load-software-modules">
<span id="label-softwaremodule"></span><h2>Load software modules<a class="headerlink" href="#load-software-modules" title="Permalink to this headline">¶</a></h2>
<p>To load the pre-built software package and configure the environment variables use:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>module load spikey/current
</pre></div>
</div>
<p>This command must be loaded for every environment, and in particular, after logging in.</p>
</section>
<section id="run-experiment">
<span id="label-expexec"></span><h2>Run experiment<a class="headerlink" href="#run-experiment" title="Permalink to this headline">¶</a></h2>
<p>Download the <a class="reference external" href="https://github.com/electronicvisions/spikey_demo/blob/master/networks/example.py">Spikey example experiment</a>.
For more example networks see <a class="reference internal" href="spikey_school.html#label-spikeyschool"><span class="std std-ref">Spikey school</span></a> and <a class="reference external" href="https://github.com/electronicvisions/spikey_demo/blob/master/networks">Spikey demos</a>.
On the UHEI cluster <a class="reference external" href="http://slurm.schedmd.com/">SLURM</a> is used to manage the workload on our systems.
To queue the execution of a Python script use:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>srun -p spikey --gres stationXXX run_nmpm_software python example.py
</pre></div>
</div>
<p>Replace XXX with the number of the chip you want to use (e.g. 500).</p>
</section>
<section id="tips-and-tricks">
<h2>Tips and tricks<a class="headerlink" href="#tips-and-tricks" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li><p>To view the queue of experiments use:</p></li>
</ul>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>squeue
</pre></div>
</div>
<ul class="simple">
<li><p>To query a list of available Spikey systems on the UHEI cluster see the <a class="reference external" href="https://gitviz.kip.uni-heidelberg.de:8443/view/spikey/job/hw_spikey_chipstatus_all/">chip status page</a>.</p></li>
<li><p>The setup of SSH keys for pubkey-based access to github.com is described in <a class="reference internal" href="appendix.html#label-clustersshkeygithub"><span class="std std-ref">Setting up SSH keys on UHEI cluster for github.com</span></a>.</p></li>
</ul>
</section>
<section id="using-the-web-interface-of-the-human-brain-project">
<h2>Using the web interface of the Human Brain Project<a class="headerlink" href="#using-the-web-interface-of-the-human-brain-project" title="Permalink to this headline">¶</a></h2>
<p>To select a chip using the <a class="reference external" href="https://www.hbpneuromorphic.eu/home.html">web interface of the Human Brain Project</a> enter the following parameters into the “Hardware Config” box:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>{&quot;STATION&quot;:&quot;stationXXX&quot;}
</pre></div>
</div>
<p>Replace XXX with the number of the chip you want to use (e.g. 500).</p>
</section>
<section id="visualization-of-the-chip-configuration">
<h2>Visualization of the chip configuration<a class="headerlink" href="#visualization-of-the-chip-configuration" title="Permalink to this headline">¶</a></h2>
<section id="what-is-the-scvisual-tool">
<h3>What is the <em>scvisual</em> tool?<a class="headerlink" href="#what-is-the-scvisual-tool" title="Permalink to this headline">¶</a></h3>
<p>The tool <em>scvisual</em> (for “spikey config visualization”) displays a visualization of the almost complete hardware configuration of an experiment. It loads data from the file “spikeyconfig.out” which is generated during experiment execution in your working directory. The program <em>scvisual</em> enables you to</p>
<ul class="simple">
<li><p>investigate the full network connectivity of a Spikey experiment,</p></li>
<li><p>zoom into details of both 256x192-sized synapse arrays,</p></li>
<li><p>hover over neurons and synapse drivers to inspect their configuration,</p></li>
<li><p>retrieve detailed information on most analog hardware parameters,</p></li>
<li><p>compare the displayed configuration with a photo of the chip, and</p></li>
<li><p>save high-resolution png figures of you network configuration to disk.</p></li>
</ul>
<p>The tool is written in python and makes extensive use of the interactive functionality of matplotlib.</p>
</section>
<section id="who-can-benefit-from-scvisual">
<h3>Who can benefit from <em>scvisual</em>?<a class="headerlink" href="#who-can-benefit-from-scvisual" title="Permalink to this headline">¶</a></h3>
<p>The tool is designed for both novice and experienced users.
If you are new to using the Spikey system, <em>scvisual</em> gives you an impression of where the physical model neurons and synapses are actually located on the chip.
To our experience, the tool can further be very helpful to expert users for developing and debugging PyNN-based experiment descriptions.</p>
</section>
<section id="installation-and-usage">
<h3>Installation and usage<a class="headerlink" href="#installation-and-usage" title="Permalink to this headline">¶</a></h3>
<dl>
<dt><strong>For local users</strong></dt><dd><div class="line-block">
<div class="line">Users located at the institute or operating “their own” Spikey chip at a local computer <a class="footnote-reference brackets" href="#id2" id="id1">1</a> simply type:</div>
<div class="line"><br /></div>
<div class="line-block">
<div class="line"><em>$ scvisual</em></div>
<div class="line"><br /></div>
</div>
<div class="line">in the working directory after the experiment is completed.</div>
</div>
</dd>
<dt><strong>For remote users</strong></dt><dd><div class="line-block">
<div class="line">The ssh connection will likely not support remote execution of the interactive graphical interface. The good news is: you can still run the program on your local machine – even without a full software installation. From</div>
<div class="line"><br /></div>
<div class="line-block">
<div class="line"><a class="reference external" href="https://github.com/electronicvisions/spikeyhal/tree/flyspi/tools">https://github.com/electronicvisions/spikeyhal/tree/flyspi/tools</a></div>
<div class="line"><br /></div>
</div>
<div class="line">download the following files: <em>scvisual.py, scparse.py, spikey_gold_label_medium.png</em>.
Then rename <em>scvisual.py</em> to <em>scvisual</em>, set <em>scvisual</em> to be executable, and make all files available in your <em>$PATH</em> and <em>$PYTHONPATH</em>. Now</div>
<div class="line"><br /></div>
<div class="line-block">
<div class="line">$ scvisual</div>
<div class="line"><br /></div>
</div>
<div class="line">should work in any local directory that contains a “spikeyconfig.out” file.</div>
</div>
</dd>
<dt><strong>Additonal options</strong></dt><dd><div class="line-block">
<div class="line">The ‘pure’ command <em>scvisual</em> will load the experiment configuration from
“spikeyconfig.out” with reasonable plotting options. For a description of additional options type:</div>
<div class="line"><br /></div>
<div class="line-block">
<div class="line"><em>$ scvisual -h</em></div>
</div>
</div>
</dd>
</dl>
</section>
<section id="footnotes">
<h3>Footnotes<a class="headerlink" href="#footnotes" title="Permalink to this headline">¶</a></h3>
<dl class="footnote brackets">
<dt class="label" id="id2"><span class="brackets"><a class="fn-backref" href="#id1">1</a></span></dt>
<dd><p>More precisely, access to a local installation of the operation software is required. For installation instructions see <a class="reference internal" href="appendix.html#label-spikeysoftware"><span class="std std-ref">Setup software</span></a>.</p>
</dd>
</dl>
</section>
</section>
</section>

            </div>

            <aside class="hbpdoc-hnav hbpdoc-hnav-bottom">
                
                <span class="hbpdoc-hnav-previous">
                    previous: <a class="hbpdoc-hnav-link" href="../spikey.html">The Spikey “physical model” system</a>
                </span>
                
                
                <span class="hbpdoc-hnav-next">
                    next: <a class="hbpdoc-hnav-link" href="spikey_school.html">Spikey school</a>
                </span>
                
            </aside>
        </article>
    </section>


    <div class="hbpdoc-footer">
        HBP Neuromorphic Computing Platform Guidebook <small>2022-08-30 11:12:21 (299f632)</small> 
    <div class="footer" role="contentinfo">
        &#169; Copyright 2015-2021, Andrew P. Davison, Eric Müller, Sebastian Schmitt, Bernhard Vogginger, David Lester, Thomas Pfeil, ....
      Last updated on Aug 30, 2022 (299f632, preliminary documentation).
      Created using <a href="https://www.sphinx-doc.org/">Sphinx</a> 4.3.0.
    </div>
    </div>
</div>

  </body>
</html>